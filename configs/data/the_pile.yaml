name: monology/pile-uncopyrighted
data_dir: ${oc.env:SCRATCH}/finetune/data/${.name}

block_size: 2048

train:
  split: train[:2%]
  save_dir: ${..data_dir}/train/

validation:
  split: train[2%:3%]
  save_dir: ${..data_dir}/validation/

dataloader_kwargs:
  num_workers: 4                     # tune with your CPU cores
  batch_size: 512                    # tune with your GPU memory
  persistent_workers: true           # keeps workers alive across iterations
  prefetch_factor: 4                 # tune with your I/O
  pin_memory: true                   # recommended for GPU training
